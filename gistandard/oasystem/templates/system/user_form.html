{% extends 'base.html' %}
{% block title %}{% if obj %}编辑{% else %}新增{% endif %}员工{% endblock %}
{% block content %}
<div class="card mx-auto" style="max-width:500px">
  <div class="card-header">员工信息</div>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="card-body">
      <div class="mb-3">
        <label>工号</label>
        <input type="text" class="form-control" value="{{ obj.username }}" disabled>
      </div>
      <div class="mb-3">
        <label>姓名 *</label>
        <input type="text" class="form-control" name="name" value="{{ obj.name }}" required>
      </div>
      <div class="mb-3">
        <label>部门</label>
        <input type="text" class="form-control" name="department" value="{{ obj.department|default:'' }}">
      </div>
      <div class="mb-3">
        <label>职位</label>
        <input type="text" class="form-control" name="position" value="{{ obj.position|default:'' }}">
      </div>
      <div class="mb-3">
        <label>手机号</label>
        <input type="text" class="form-control" name="phone" value="{{ obj.phone|default:'' }}" maxlength="11">
      </div>
      <div class="mb-3">
        <label>头像</label>
        {% if obj.avatar %}
          <img src="{{ obj.avatar.url }}" width="60" class="d-block mb-2">
        {% endif %}
        <input type="file" class="form-control" name="avatar" accept="image/*">
      </div>
    </div>
    <div class="card-footer text-end">
      <a href="{% url 'oasystem:user_list' %}" class="btn btn-secondary">取消</a>
      <button class="btn btn-primary">保存</button>
    </div>
  </form>
</div>
{% endblock %}